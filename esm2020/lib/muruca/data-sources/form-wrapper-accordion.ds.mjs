import { DataSource } from '@n7-frontend/core';
const ICON_OPEN = 'n7-icon-angle-up';
const ICON_CLOSE = 'n7-icon-angle-down';
export class MrFormWrapperAccordionDS extends DataSource {
    transform(data) {
        const { form } = data;
        const { groups } = form.config;
        // set accordion headers
        data.form.config.groups = groups.map((group) => ({
            ...group,
            options: {
                ...group.options,
                text: group.options.label,
                payload: group.id,
                iconRight: group.options.isOpen ? ICON_OPEN : ICON_CLOSE,
                isOpen: group.options.isOpen
            }
        }));
        return data;
    }
    toggleGroup(groupId) {
        this.output.form.config.groups.forEach((group) => {
            if (group.id === groupId) {
                const { isOpen } = group.options;
                group.options.iconRight = isOpen ? ICON_CLOSE : ICON_OPEN;
                group.options.isOpen = !group.options.isOpen;
            }
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS13cmFwcGVyLWFjY29yZGlvbi5kcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL243LWJvaWxlcnBsYXRlLWxpYi9zcmMvbGliL211cnVjYS9kYXRhLXNvdXJjZXMvZm9ybS13cmFwcGVyLWFjY29yZGlvbi5kcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHL0MsTUFBTSxTQUFTLEdBQUcsa0JBQWtCLENBQUM7QUFDckMsTUFBTSxVQUFVLEdBQUcsb0JBQW9CLENBQUM7QUFFeEMsTUFBTSxPQUFPLHdCQUF5QixTQUFRLFVBQVU7SUFDNUMsU0FBUyxDQUFDLElBQWdDO1FBQ2xELE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDdEIsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFFL0Isd0JBQXdCO1FBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQy9DLEdBQUcsS0FBSztZQUNSLE9BQU8sRUFBRTtnQkFDUCxHQUFHLEtBQUssQ0FBQyxPQUFPO2dCQUNoQixJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLO2dCQUN6QixPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUU7Z0JBQ2pCLFNBQVMsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVO2dCQUN4RCxNQUFNLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNO2FBQzdCO1NBQ0YsQ0FBQyxDQUFDLENBQUM7UUFDSixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBTztRQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQy9DLElBQUksS0FBSyxDQUFDLEVBQUUsS0FBSyxPQUFPLEVBQUU7Z0JBQ3hCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO2dCQUNqQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUMxRCxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO2FBQzlDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSAnQG43LWZyb250ZW5kL2NvcmUnO1xyXG5pbXBvcnQgeyBNckZvcm1XcmFwcGVyQWNjb3JkaW9uRGF0YSB9IGZyb20gJy4uL2NvbXBvbmVudHMvZm9ybS13cmFwcGVyLWFjY29yZGlvbi9mb3JtLXdyYXBwZXItYWNjb3JkaW9uJztcclxuXHJcbmNvbnN0IElDT05fT1BFTiA9ICduNy1pY29uLWFuZ2xlLXVwJztcclxuY29uc3QgSUNPTl9DTE9TRSA9ICduNy1pY29uLWFuZ2xlLWRvd24nO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1yRm9ybVdyYXBwZXJBY2NvcmRpb25EUyBleHRlbmRzIERhdGFTb3VyY2Uge1xyXG4gIHByb3RlY3RlZCB0cmFuc2Zvcm0oZGF0YTogTXJGb3JtV3JhcHBlckFjY29yZGlvbkRhdGEpOiBNckZvcm1XcmFwcGVyQWNjb3JkaW9uRGF0YSB7XHJcbiAgICBjb25zdCB7IGZvcm0gfSA9IGRhdGE7XHJcbiAgICBjb25zdCB7IGdyb3VwcyB9ID0gZm9ybS5jb25maWc7XHJcblxyXG4gICAgLy8gc2V0IGFjY29yZGlvbiBoZWFkZXJzXHJcbiAgICBkYXRhLmZvcm0uY29uZmlnLmdyb3VwcyA9IGdyb3Vwcy5tYXAoKGdyb3VwKSA9PiAoe1xyXG4gICAgICAuLi5ncm91cCxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIC4uLmdyb3VwLm9wdGlvbnMsXHJcbiAgICAgICAgdGV4dDogZ3JvdXAub3B0aW9ucy5sYWJlbCxcclxuICAgICAgICBwYXlsb2FkOiBncm91cC5pZCxcclxuICAgICAgICBpY29uUmlnaHQ6IGdyb3VwLm9wdGlvbnMuaXNPcGVuID8gSUNPTl9PUEVOIDogSUNPTl9DTE9TRSxcclxuICAgICAgICBpc09wZW46IGdyb3VwLm9wdGlvbnMuaXNPcGVuXHJcbiAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlR3JvdXAoZ3JvdXBJZCkge1xyXG4gICAgdGhpcy5vdXRwdXQuZm9ybS5jb25maWcuZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XHJcbiAgICAgIGlmIChncm91cC5pZCA9PT0gZ3JvdXBJZCkge1xyXG4gICAgICAgIGNvbnN0IHsgaXNPcGVuIH0gPSBncm91cC5vcHRpb25zO1xyXG4gICAgICAgIGdyb3VwLm9wdGlvbnMuaWNvblJpZ2h0ID0gaXNPcGVuID8gSUNPTl9DTE9TRSA6IElDT05fT1BFTjtcclxuICAgICAgICBncm91cC5vcHRpb25zLmlzT3BlbiA9ICFncm91cC5vcHRpb25zLmlzT3BlbjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==