import { IMAGE_VIEWER_MOCK } from '@n7-frontend/components';
import { DataSource } from '@n7-frontend/core';
import { Subject } from 'rxjs';
export class SbImageViewerDS extends DataSource {
    constructor() {
        super(...arguments);
        this.viewer = null;
        this.viewerLoaded$ = new Subject();
    }
    transform() {
        const data = IMAGE_VIEWER_MOCK;
        data.images = [
            { type: 'image', url: 'http://placekitten.com/1920/1080', buildPyramid: false },
            { type: 'image', url: 'http://placekitten.com/500/600', buildPyramid: false },
            { type: 'image', url: 'http://placekitten.com/700/400', buildPyramid: false }
        ];
        data.libOptions.showReferenceStrip = false;
        data._setViewer = (viewer) => {
            this.viewer = viewer;
            this.viewerLoaded$.next();
        };
        // data._pageCallback = (eventData) => eventData;
        return data;
    }
    changePage(index) {
        this.viewer.goToPage(index); // call to OpenSeadragon APIs
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2Utdmlld2VyLmRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbjctYm9pbGVycGxhdGUtbGliL3NyYy9saWIvc2FuZGJveC9kYXRhLXNvdXJjZXMvaW1hZ2Utdmlld2VyLmRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBbUIsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM3RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDL0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUvQixNQUFNLE9BQU8sZUFBZ0IsU0FBUSxVQUFVO0lBQS9DOztRQUNTLFdBQU0sR0FBRyxJQUFJLENBQUM7UUFFZCxrQkFBYSxHQUFrQixJQUFJLE9BQU8sRUFBRSxDQUFDO0lBcUJ0RCxDQUFDO0lBbkJXLFNBQVM7UUFDakIsTUFBTSxJQUFJLEdBQUcsaUJBQWlCLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsa0NBQWtDLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRTtZQUMvRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGdDQUFnQyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUU7WUFDN0UsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxnQ0FBZ0MsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFO1NBQzlFLENBQUM7UUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztRQUMzQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDckIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM1QixDQUFDLENBQUM7UUFDRixpREFBaUQ7UUFDakQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0sVUFBVSxDQUFDLEtBQUs7UUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyw2QkFBNkI7SUFDNUQsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW1hZ2VWaWV3ZXJEYXRhLCBJTUFHRV9WSUVXRVJfTU9DSyB9IGZyb20gJ0BuNy1mcm9udGVuZC9jb21wb25lbnRzJztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICdAbjctZnJvbnRlbmQvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBjbGFzcyBTYkltYWdlVmlld2VyRFMgZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgcHVibGljIHZpZXdlciA9IG51bGw7XG5cbiAgcHVibGljIHZpZXdlckxvYWRlZCQ6IFN1YmplY3Q8dm9pZD4gPSBuZXcgU3ViamVjdCgpO1xuXG4gIHByb3RlY3RlZCB0cmFuc2Zvcm0oKTogSW1hZ2VWaWV3ZXJEYXRhIHtcbiAgICBjb25zdCBkYXRhID0gSU1BR0VfVklFV0VSX01PQ0s7XG4gICAgZGF0YS5pbWFnZXMgPSBbXG4gICAgICB7IHR5cGU6ICdpbWFnZScsIHVybDogJ2h0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTkyMC8xMDgwJywgYnVpbGRQeXJhbWlkOiBmYWxzZSB9LFxuICAgICAgeyB0eXBlOiAnaW1hZ2UnLCB1cmw6ICdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzUwMC82MDAnLCBidWlsZFB5cmFtaWQ6IGZhbHNlIH0sXG4gICAgICB7IHR5cGU6ICdpbWFnZScsIHVybDogJ2h0dHA6Ly9wbGFjZWtpdHRlbi5jb20vNzAwLzQwMCcsIGJ1aWxkUHlyYW1pZDogZmFsc2UgfVxuICAgIF07XG4gICAgZGF0YS5saWJPcHRpb25zLnNob3dSZWZlcmVuY2VTdHJpcCA9IGZhbHNlO1xuICAgIGRhdGEuX3NldFZpZXdlciA9ICh2aWV3ZXIpID0+IHtcbiAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgICAgdGhpcy52aWV3ZXJMb2FkZWQkLm5leHQoKTtcbiAgICB9O1xuICAgIC8vIGRhdGEuX3BhZ2VDYWxsYmFjayA9IChldmVudERhdGEpID0+IGV2ZW50RGF0YTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHB1YmxpYyBjaGFuZ2VQYWdlKGluZGV4KSB7XG4gICAgdGhpcy52aWV3ZXIuZ29Ub1BhZ2UoaW5kZXgpOyAvLyBjYWxsIHRvIE9wZW5TZWFkcmFnb24gQVBJc1xuICB9XG59XG4iXX0=