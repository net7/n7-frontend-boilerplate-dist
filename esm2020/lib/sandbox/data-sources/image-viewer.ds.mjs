import { IMAGE_VIEWER_MOCK } from '@n7-frontend/components';
import { DataSource } from '@n7-frontend/core';
import { Subject } from 'rxjs';
export class SbImageViewerDS extends DataSource {
    constructor() {
        super(...arguments);
        this.viewer = null;
        this.viewerLoaded$ = new Subject();
    }
    transform() {
        const data = IMAGE_VIEWER_MOCK;
        data.images = [
            { type: 'image', url: 'http://placekitten.com/1920/1080', buildPyramid: false },
            { type: 'image', url: 'http://placekitten.com/500/600', buildPyramid: false },
            { type: 'image', url: 'http://placekitten.com/700/400', buildPyramid: false }
        ];
        data.libOptions.showReferenceStrip = false;
        data._setViewer = (viewer) => {
            this.viewer = viewer;
            this.viewerLoaded$.next();
        };
        // data._pageCallback = (eventData) => eventData;
        return data;
    }
    changePage(index) {
        this.viewer.goToPage(index); // call to OpenSeadragon APIs
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2Utdmlld2VyLmRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbjctYm9pbGVycGxhdGUtbGliL3NyYy9saWIvc2FuZGJveC9kYXRhLXNvdXJjZXMvaW1hZ2Utdmlld2VyLmRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBbUIsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM3RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDL0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUvQixNQUFNLE9BQU8sZUFBZ0IsU0FBUSxVQUFVO0lBQS9DOztRQUNTLFdBQU0sR0FBRyxJQUFJLENBQUM7UUFFZCxrQkFBYSxHQUFrQixJQUFJLE9BQU8sRUFBRSxDQUFDO0lBcUJ0RCxDQUFDO0lBbkJXLFNBQVM7UUFDakIsTUFBTSxJQUFJLEdBQUcsaUJBQWlCLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsa0NBQWtDLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRTtZQUMvRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGdDQUFnQyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUU7WUFDN0UsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxnQ0FBZ0MsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFO1NBQzlFLENBQUM7UUFDRixJQUFJLENBQUMsVUFBVSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztRQUMzQyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDckIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM1QixDQUFDLENBQUM7UUFDRixpREFBaUQ7UUFDakQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0sVUFBVSxDQUFDLEtBQUs7UUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyw2QkFBNkI7SUFDNUQsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW1hZ2VWaWV3ZXJEYXRhLCBJTUFHRV9WSUVXRVJfTU9DSyB9IGZyb20gJ0BuNy1mcm9udGVuZC9jb21wb25lbnRzJztcclxuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJ0BuNy1mcm9udGVuZC9jb3JlJztcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNiSW1hZ2VWaWV3ZXJEUyBleHRlbmRzIERhdGFTb3VyY2Uge1xyXG4gIHB1YmxpYyB2aWV3ZXIgPSBudWxsO1xyXG5cclxuICBwdWJsaWMgdmlld2VyTG9hZGVkJDogU3ViamVjdDx2b2lkPiA9IG5ldyBTdWJqZWN0KCk7XHJcblxyXG4gIHByb3RlY3RlZCB0cmFuc2Zvcm0oKTogSW1hZ2VWaWV3ZXJEYXRhIHtcclxuICAgIGNvbnN0IGRhdGEgPSBJTUFHRV9WSUVXRVJfTU9DSztcclxuICAgIGRhdGEuaW1hZ2VzID0gW1xyXG4gICAgICB7IHR5cGU6ICdpbWFnZScsIHVybDogJ2h0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTkyMC8xMDgwJywgYnVpbGRQeXJhbWlkOiBmYWxzZSB9LFxyXG4gICAgICB7IHR5cGU6ICdpbWFnZScsIHVybDogJ2h0dHA6Ly9wbGFjZWtpdHRlbi5jb20vNTAwLzYwMCcsIGJ1aWxkUHlyYW1pZDogZmFsc2UgfSxcclxuICAgICAgeyB0eXBlOiAnaW1hZ2UnLCB1cmw6ICdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzcwMC80MDAnLCBidWlsZFB5cmFtaWQ6IGZhbHNlIH1cclxuICAgIF07XHJcbiAgICBkYXRhLmxpYk9wdGlvbnMuc2hvd1JlZmVyZW5jZVN0cmlwID0gZmFsc2U7XHJcbiAgICBkYXRhLl9zZXRWaWV3ZXIgPSAodmlld2VyKSA9PiB7XHJcbiAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xyXG4gICAgICB0aGlzLnZpZXdlckxvYWRlZCQubmV4dCgpO1xyXG4gICAgfTtcclxuICAgIC8vIGRhdGEuX3BhZ2VDYWxsYmFjayA9IChldmVudERhdGEpID0+IGV2ZW50RGF0YTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNoYW5nZVBhZ2UoaW5kZXgpIHtcclxuICAgIHRoaXMudmlld2VyLmdvVG9QYWdlKGluZGV4KTsgLy8gY2FsbCB0byBPcGVuU2VhZHJhZ29uIEFQSXNcclxuICB9XHJcbn1cclxuIl19