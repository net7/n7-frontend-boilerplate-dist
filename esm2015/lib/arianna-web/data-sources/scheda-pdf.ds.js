import { DataSource } from '@n7-frontend/core';
import { merge } from 'lodash';
const DEFAULT_OPTIONS = {
    showToolbar: true,
    showSidebarButton: true,
    showFindButton: true,
    showPagingButtons: true,
    showZoomButtons: true,
    showPresentationModeButton: true,
    showOpenFileButton: false,
    showPrintButton: false,
    showDownloadButton: false,
    showBookmarkButton: false,
    showSecondaryToolbarButton: true,
    showRotateButton: false,
    showHandToolButton: true,
    showScrollingButton: false,
    showSpreadButton: false,
    showPropertiesButton: false
};
export class AwSchedaPdfDS extends DataSource {
    transform(data) {
        const { items } = data;
        const libOptions = merge(DEFAULT_OPTIONS, this.options.libOptions || {});
        if (!(Array.isArray(items) && items.length)) {
            return null;
        }
        this.items = items.map((item, index) => (Object.assign(Object.assign({}, item), { selected: index === 0 })));
        console.log('libOptions----------------------------->', libOptions);
        // defaults
        return {
            libOptions,
            items: this.items,
            next: 1,
            prev: null,
            currentUrl: items[0].url,
        };
    }
    onChange(index) {
        this.output.next = index < (this.items.length - 1) ? index + 1 : null;
        this.output.prev = index > 0 ? index - 1 : null;
        this.output.currentUrl = this.items[index].url;
        this.items.forEach((item, itemIndex) => {
            item.selected = itemIndex === index;
        });
    }
    onLoaded() {
        this.output.classes = 'is-loaded';
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWRhLXBkZi5kcy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuNy1mcm9udGVuZC9ib2lsZXJwbGF0ZS8iLCJzb3VyY2VzIjpbImxpYi9hcmlhbm5hLXdlYi9kYXRhLXNvdXJjZXMvc2NoZWRhLXBkZi5kcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDL0MsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUcvQixNQUFNLGVBQWUsR0FBRztJQUN0QixXQUFXLEVBQUUsSUFBSTtJQUNqQixpQkFBaUIsRUFBRSxJQUFJO0lBQ3ZCLGNBQWMsRUFBRSxJQUFJO0lBQ3BCLGlCQUFpQixFQUFFLElBQUk7SUFDdkIsZUFBZSxFQUFFLElBQUk7SUFDckIsMEJBQTBCLEVBQUUsSUFBSTtJQUNoQyxrQkFBa0IsRUFBRSxLQUFLO0lBQ3pCLGVBQWUsRUFBRSxLQUFLO0lBQ3RCLGtCQUFrQixFQUFFLEtBQUs7SUFDekIsa0JBQWtCLEVBQUUsS0FBSztJQUN6QiwwQkFBMEIsRUFBRSxJQUFJO0lBQ2hDLGdCQUFnQixFQUFFLEtBQUs7SUFDdkIsa0JBQWtCLEVBQUUsSUFBSTtJQUN4QixtQkFBbUIsRUFBRSxLQUFLO0lBQzFCLGdCQUFnQixFQUFFLEtBQUs7SUFDdkIsb0JBQW9CLEVBQUUsS0FBSztDQUM1QixDQUFDO0FBRUYsTUFBTSxPQUFPLGFBQWMsU0FBUSxVQUFVO0lBT2pDLFNBQVMsQ0FBQyxJQUFJO1FBQ3RCLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDdkIsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUN0QixlQUFlLEVBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksRUFBRSxDQUM5QixDQUFDO1FBQ0YsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDM0MsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLGlDQUNuQyxJQUFJLEtBQ1AsUUFBUSxFQUFFLEtBQUssS0FBSyxDQUFDLElBQ3JCLENBQUMsQ0FBQztRQUVKLE9BQU8sQ0FBQyxHQUFHLENBQUMsMENBQTBDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFcEUsV0FBVztRQUNYLE9BQU87WUFDTCxVQUFVO1lBQ1YsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLElBQUksRUFBRSxDQUFDO1lBQ1AsSUFBSSxFQUFFLElBQUk7WUFDVixVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7U0FDekIsQ0FBQztJQUNKLENBQUM7SUFFRCxRQUFRLENBQUMsS0FBSztRQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQy9DLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxFQUFFO1lBQ3JDLElBQUksQ0FBQyxRQUFRLEdBQUcsU0FBUyxLQUFLLEtBQUssQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDO0lBQ3BDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICdAbjctZnJvbnRlbmQvY29yZSc7XHJcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IHsgUGRmVmlld2VyRGF0YSB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xyXG5cclxuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xyXG4gIHNob3dUb29sYmFyOiB0cnVlLFxyXG4gIHNob3dTaWRlYmFyQnV0dG9uOiB0cnVlLFxyXG4gIHNob3dGaW5kQnV0dG9uOiB0cnVlLFxyXG4gIHNob3dQYWdpbmdCdXR0b25zOiB0cnVlLFxyXG4gIHNob3dab29tQnV0dG9uczogdHJ1ZSxcclxuICBzaG93UHJlc2VudGF0aW9uTW9kZUJ1dHRvbjogdHJ1ZSxcclxuICBzaG93T3BlbkZpbGVCdXR0b246IGZhbHNlLFxyXG4gIHNob3dQcmludEJ1dHRvbjogZmFsc2UsXHJcbiAgc2hvd0Rvd25sb2FkQnV0dG9uOiBmYWxzZSxcclxuICBzaG93Qm9va21hcmtCdXR0b246IGZhbHNlLFxyXG4gIHNob3dTZWNvbmRhcnlUb29sYmFyQnV0dG9uOiB0cnVlLFxyXG4gIHNob3dSb3RhdGVCdXR0b246IGZhbHNlLFxyXG4gIHNob3dIYW5kVG9vbEJ1dHRvbjogdHJ1ZSxcclxuICBzaG93U2Nyb2xsaW5nQnV0dG9uOiBmYWxzZSxcclxuICBzaG93U3ByZWFkQnV0dG9uOiBmYWxzZSxcclxuICBzaG93UHJvcGVydGllc0J1dHRvbjogZmFsc2VcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBd1NjaGVkYVBkZkRTIGV4dGVuZHMgRGF0YVNvdXJjZSB7XHJcbiAgcHJpdmF0ZSBpdGVtczoge1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIHVybDogc3RyaW5nO1xyXG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW47XHJcbiAgfVtdO1xyXG5cclxuICBwcm90ZWN0ZWQgdHJhbnNmb3JtKGRhdGEpOiBQZGZWaWV3ZXJEYXRhIHtcclxuICAgIGNvbnN0IHsgaXRlbXMgfSA9IGRhdGE7XHJcbiAgICBjb25zdCBsaWJPcHRpb25zID0gbWVyZ2UoXHJcbiAgICAgIERFRkFVTFRfT1BUSU9OUyxcclxuICAgICAgdGhpcy5vcHRpb25zLmxpYk9wdGlvbnMgfHwge31cclxuICAgICk7XHJcbiAgICBpZiAoIShBcnJheS5pc0FycmF5KGl0ZW1zKSAmJiBpdGVtcy5sZW5ndGgpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaXRlbXMgPSBpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoe1xyXG4gICAgICAuLi5pdGVtLFxyXG4gICAgICBzZWxlY3RlZDogaW5kZXggPT09IDBcclxuICAgIH0pKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnbGliT3B0aW9ucy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPicsIGxpYk9wdGlvbnMpO1xyXG5cclxuICAgIC8vIGRlZmF1bHRzXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsaWJPcHRpb25zLFxyXG4gICAgICBpdGVtczogdGhpcy5pdGVtcyxcclxuICAgICAgbmV4dDogMSxcclxuICAgICAgcHJldjogbnVsbCxcclxuICAgICAgY3VycmVudFVybDogaXRlbXNbMF0udXJsLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG9uQ2hhbmdlKGluZGV4KSB7XHJcbiAgICB0aGlzLm91dHB1dC5uZXh0ID0gaW5kZXggPCAodGhpcy5pdGVtcy5sZW5ndGggLSAxKSA/IGluZGV4ICsgMSA6IG51bGw7XHJcbiAgICB0aGlzLm91dHB1dC5wcmV2ID0gaW5kZXggPiAwID8gaW5kZXggLSAxIDogbnVsbDtcclxuICAgIHRoaXMub3V0cHV0LmN1cnJlbnRVcmwgPSB0aGlzLml0ZW1zW2luZGV4XS51cmw7XHJcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xyXG4gICAgICBpdGVtLnNlbGVjdGVkID0gaXRlbUluZGV4ID09PSBpbmRleDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25Mb2FkZWQoKSB7XHJcbiAgICB0aGlzLm91dHB1dC5jbGFzc2VzID0gJ2lzLWxvYWRlZCc7XHJcbiAgfVxyXG59XHJcbiJdfQ==