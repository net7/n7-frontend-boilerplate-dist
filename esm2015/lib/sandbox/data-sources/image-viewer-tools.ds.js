import { IMAGE_VIEWER_TOOLS_MOCK } from '@n7-frontend/components';
import { DataSource } from '@n7-frontend/core';
export class SbImageViewerToolsDS extends DataSource {
    transform() {
        const data = IMAGE_VIEWER_TOOLS_MOCK;
        data.images = [
            { thumb: 'http://placekitten.com/200/130', payload: { thumbindex: 0 }, caption: 'Test caption <b>#1</b>' },
            { thumb: 'http://placekitten.com/90/180', payload: { thumbindex: 1 }, caption: 'Test caption <b>#2</b>' },
            { thumb: 'http://placekitten.com/90/110', payload: { thumbindex: 2 }, caption: 'Test caption <b>#3</b>' },
        ];
        const initialDescription = data.images[data.initial].caption;
        if (initialDescription !== undefined) {
            data.description = initialDescription;
        }
        return data;
    }
    toggleDescription() {
        this.output.isVisible.description = !this.output.isVisible.description;
    }
    toggleThumbs() {
        this.output.isVisible.thumbnails = !this.output.isVisible.thumbnails;
    }
    handleThumbs(index) {
        this.output.initial = index;
        this.updateDescription();
    }
    handlePageChange(payload) {
        this.handleThumbs(payload.page);
    }
    updateDescription() {
        const index = this.output.initial;
        const { images } = this.output;
        this.output.description = images[index].caption;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2Utdmlld2VyLXRvb2xzLmRzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG43LWZyb250ZW5kL2JvaWxlcnBsYXRlLyIsInNvdXJjZXMiOlsibGliL3NhbmRib3gvZGF0YS1zb3VyY2VzL2ltYWdlLXZpZXdlci10b29scy5kcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQXdCLHVCQUF1QixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDeEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRS9DLE1BQU0sT0FBTyxvQkFBcUIsU0FBUSxVQUFVO0lBQ3hDLFNBQVM7UUFDakIsTUFBTSxJQUFJLEdBQUcsdUJBQXVCLENBQUM7UUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLEVBQUUsS0FBSyxFQUFFLGdDQUFnQyxFQUFFLE9BQU8sRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsd0JBQXdCLEVBQUU7WUFDMUcsRUFBRSxLQUFLLEVBQUUsK0JBQStCLEVBQUUsT0FBTyxFQUFFLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSx3QkFBd0IsRUFBRTtZQUN6RyxFQUFFLEtBQUssRUFBRSwrQkFBK0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLHdCQUF3QixFQUFFO1NBQzFHLENBQUM7UUFDRixNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUM3RCxJQUFJLGtCQUFrQixLQUFLLFNBQVMsRUFBRTtZQUNwQyxJQUFJLENBQUMsV0FBVyxHQUFHLGtCQUFrQixDQUFDO1NBQ3ZDO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0saUJBQWlCO1FBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQztJQUN6RSxDQUFDO0lBRU0sWUFBWTtRQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7SUFDdkUsQ0FBQztJQUVNLFlBQVksQ0FBQyxLQUFLO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUM1QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRU0sZ0JBQWdCLENBQUMsT0FBTztRQUM3QixJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRU0saUJBQWlCO1FBQ3RCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQ2xDLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUM7SUFDbEQsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW1hZ2VWaWV3ZXJUb29sc0RhdGEsIElNQUdFX1ZJRVdFUl9UT09MU19NT0NLIH0gZnJvbSAnQG43LWZyb250ZW5kL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSAnQG43LWZyb250ZW5kL2NvcmUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNiSW1hZ2VWaWV3ZXJUb29sc0RTIGV4dGVuZHMgRGF0YVNvdXJjZSB7XHJcbiAgcHJvdGVjdGVkIHRyYW5zZm9ybSgpOiBJbWFnZVZpZXdlclRvb2xzRGF0YSB7XHJcbiAgICBjb25zdCBkYXRhID0gSU1BR0VfVklFV0VSX1RPT0xTX01PQ0s7XHJcbiAgICBkYXRhLmltYWdlcyA9IFtcclxuICAgICAgeyB0aHVtYjogJ2h0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMjAwLzEzMCcsIHBheWxvYWQ6IHsgdGh1bWJpbmRleDogMCB9LCBjYXB0aW9uOiAnVGVzdCBjYXB0aW9uIDxiPiMxPC9iPicgfSxcclxuICAgICAgeyB0aHVtYjogJ2h0dHA6Ly9wbGFjZWtpdHRlbi5jb20vOTAvMTgwJywgcGF5bG9hZDogeyB0aHVtYmluZGV4OiAxIH0sIGNhcHRpb246ICdUZXN0IGNhcHRpb24gPGI+IzI8L2I+JyB9LFxyXG4gICAgICB7IHRodW1iOiAnaHR0cDovL3BsYWNla2l0dGVuLmNvbS85MC8xMTAnLCBwYXlsb2FkOiB7IHRodW1iaW5kZXg6IDIgfSwgY2FwdGlvbjogJ1Rlc3QgY2FwdGlvbiA8Yj4jMzwvYj4nIH0sXHJcbiAgICBdO1xyXG4gICAgY29uc3QgaW5pdGlhbERlc2NyaXB0aW9uID0gZGF0YS5pbWFnZXNbZGF0YS5pbml0aWFsXS5jYXB0aW9uO1xyXG4gICAgaWYgKGluaXRpYWxEZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSBpbml0aWFsRGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9nZ2xlRGVzY3JpcHRpb24oKSB7XHJcbiAgICB0aGlzLm91dHB1dC5pc1Zpc2libGUuZGVzY3JpcHRpb24gPSAhdGhpcy5vdXRwdXQuaXNWaXNpYmxlLmRlc2NyaXB0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvZ2dsZVRodW1icygpIHtcclxuICAgIHRoaXMub3V0cHV0LmlzVmlzaWJsZS50aHVtYm5haWxzID0gIXRoaXMub3V0cHV0LmlzVmlzaWJsZS50aHVtYm5haWxzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhhbmRsZVRodW1icyhpbmRleCkge1xyXG4gICAgdGhpcy5vdXRwdXQuaW5pdGlhbCA9IGluZGV4O1xyXG4gICAgdGhpcy51cGRhdGVEZXNjcmlwdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhhbmRsZVBhZ2VDaGFuZ2UocGF5bG9hZCkge1xyXG4gICAgdGhpcy5oYW5kbGVUaHVtYnMocGF5bG9hZC5wYWdlKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVEZXNjcmlwdGlvbigpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vdXRwdXQuaW5pdGlhbDtcclxuICAgIGNvbnN0IHsgaW1hZ2VzIH0gPSB0aGlzLm91dHB1dDtcclxuICAgIHRoaXMub3V0cHV0LmRlc2NyaXB0aW9uID0gaW1hZ2VzW2luZGV4XS5jYXB0aW9uO1xyXG4gIH1cclxufVxyXG4iXX0=