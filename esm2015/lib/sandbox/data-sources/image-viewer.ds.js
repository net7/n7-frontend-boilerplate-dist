import { IMAGE_VIEWER_MOCK } from '@n7-frontend/components';
import { DataSource } from '@n7-frontend/core';
import { Subject } from 'rxjs';
export class SbImageViewerDS extends DataSource {
    constructor() {
        super(...arguments);
        this.viewer = null;
        this.viewerLoaded$ = new Subject();
    }
    transform() {
        const data = IMAGE_VIEWER_MOCK;
        data.images = [
            { type: 'image', url: 'http://placekitten.com/1920/1080', buildPyramid: false },
            { type: 'image', url: 'http://placekitten.com/500/600', buildPyramid: false },
            { type: 'image', url: 'http://placekitten.com/700/400', buildPyramid: false }
        ];
        data.libOptions.showReferenceStrip = false;
        data._setViewer = (viewer) => {
            this.viewer = viewer;
            this.viewerLoaded$.next();
        };
        // data._pageCallback = (eventData) => eventData;
        return data;
    }
    changePage(index) {
        this.viewer.goToPage(index); // call to OpenSeadragon APIs
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2Utdmlld2VyLmRzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG43LWZyb250ZW5kL2JvaWxlcnBsYXRlLyIsInNvdXJjZXMiOlsibGliL3NhbmRib3gvZGF0YS1zb3VyY2VzL2ltYWdlLXZpZXdlci5kcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW1CLGlCQUFpQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDN0UsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFL0IsTUFBTSxPQUFPLGVBQWdCLFNBQVEsVUFBVTtJQUEvQzs7UUFDUyxXQUFNLEdBQUcsSUFBSSxDQUFDO1FBRWQsa0JBQWEsR0FBa0IsSUFBSSxPQUFPLEVBQUUsQ0FBQztJQXFCdEQsQ0FBQztJQW5CVyxTQUFTO1FBQ2pCLE1BQU0sSUFBSSxHQUFHLGlCQUFpQixDQUFDO1FBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUc7WUFDWixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGtDQUFrQyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUU7WUFDL0UsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxnQ0FBZ0MsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFO1lBQzdFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsZ0NBQWdDLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRTtTQUM5RSxDQUFDO1FBQ0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7UUFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDNUIsQ0FBQyxDQUFDO1FBQ0YsaURBQWlEO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVNLFVBQVUsQ0FBQyxLQUFLO1FBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsNkJBQTZCO0lBQzVELENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEltYWdlVmlld2VyRGF0YSwgSU1BR0VfVklFV0VSX01PQ0sgfSBmcm9tICdAbjctZnJvbnRlbmQvY29tcG9uZW50cyc7XG5pbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSAnQG43LWZyb250ZW5kL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgY2xhc3MgU2JJbWFnZVZpZXdlckRTIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG4gIHB1YmxpYyB2aWV3ZXIgPSBudWxsO1xuXG4gIHB1YmxpYyB2aWV3ZXJMb2FkZWQkOiBTdWJqZWN0PHZvaWQ+ID0gbmV3IFN1YmplY3QoKTtcblxuICBwcm90ZWN0ZWQgdHJhbnNmb3JtKCk6IEltYWdlVmlld2VyRGF0YSB7XG4gICAgY29uc3QgZGF0YSA9IElNQUdFX1ZJRVdFUl9NT0NLO1xuICAgIGRhdGEuaW1hZ2VzID0gW1xuICAgICAgeyB0eXBlOiAnaW1hZ2UnLCB1cmw6ICdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzE5MjAvMTA4MCcsIGJ1aWxkUHlyYW1pZDogZmFsc2UgfSxcbiAgICAgIHsgdHlwZTogJ2ltYWdlJywgdXJsOiAnaHR0cDovL3BsYWNla2l0dGVuLmNvbS81MDAvNjAwJywgYnVpbGRQeXJhbWlkOiBmYWxzZSB9LFxuICAgICAgeyB0eXBlOiAnaW1hZ2UnLCB1cmw6ICdodHRwOi8vcGxhY2VraXR0ZW4uY29tLzcwMC80MDAnLCBidWlsZFB5cmFtaWQ6IGZhbHNlIH1cbiAgICBdO1xuICAgIGRhdGEubGliT3B0aW9ucy5zaG93UmVmZXJlbmNlU3RyaXAgPSBmYWxzZTtcbiAgICBkYXRhLl9zZXRWaWV3ZXIgPSAodmlld2VyKSA9PiB7XG4gICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcbiAgICAgIHRoaXMudmlld2VyTG9hZGVkJC5uZXh0KCk7XG4gICAgfTtcbiAgICAvLyBkYXRhLl9wYWdlQ2FsbGJhY2sgPSAoZXZlbnREYXRhKSA9PiBldmVudERhdGE7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwdWJsaWMgY2hhbmdlUGFnZShpbmRleCkge1xuICAgIHRoaXMudmlld2VyLmdvVG9QYWdlKGluZGV4KTsgLy8gY2FsbCB0byBPcGVuU2VhZHJhZ29uIEFQSXNcbiAgfVxufVxuIl19