import { DataSource } from '@n7-frontend/core';
const ICON_OPEN = 'n7-icon-angle-up';
const ICON_CLOSE = 'n7-icon-angle-down';
export class MrFormWrapperAccordionDS extends DataSource {
    transform(data) {
        const { form } = data;
        const { groups } = form.config;
        // set accordion headers
        data.form.config.groups = groups.map((group) => (Object.assign(Object.assign({}, group), { options: Object.assign(Object.assign({}, group.options), { text: group.options.label, payload: group.id, iconRight: group.options.isOpen ? ICON_OPEN : ICON_CLOSE, isOpen: group.options.isOpen }) })));
        return data;
    }
    onReset() {
        const { form } = this.output;
        const inputs = form.getInputs();
        Object.keys(inputs).forEach((id) => {
            inputs[id].clear();
        });
    }
    toggleGroup(groupId) {
        this.output.form.config.groups.forEach((group) => {
            if (group.id === groupId) {
                const { isOpen } = group.options;
                group.options.iconRight = isOpen ? ICON_CLOSE : ICON_OPEN;
                group.options.isOpen = !group.options.isOpen;
            }
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS13cmFwcGVyLWFjY29yZGlvbi5kcy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuNy1mcm9udGVuZC9ib2lsZXJwbGF0ZS8iLCJzb3VyY2VzIjpbImxpYi9tdXJ1Y2EvZGF0YS1zb3VyY2VzL2Zvcm0td3JhcHBlci1hY2NvcmRpb24uZHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRy9DLE1BQU0sU0FBUyxHQUFHLGtCQUFrQixDQUFDO0FBQ3JDLE1BQU0sVUFBVSxHQUFHLG9CQUFvQixDQUFDO0FBRXhDLE1BQU0sT0FBTyx3QkFBeUIsU0FBUSxVQUFVO0lBQzVDLFNBQVMsQ0FBQyxJQUFnQztRQUNsRCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRS9CLHdCQUF3QjtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsaUNBQzNDLEtBQUssS0FDUixPQUFPLGtDQUNGLEtBQUssQ0FBQyxPQUFPLEtBQ2hCLElBQUksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFDekIsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQ2pCLFNBQVMsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQ3hELE1BQU0sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sT0FFOUIsQ0FBQyxDQUFDO1FBQ0osT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsT0FBTztRQUNMLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzdCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNoQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxXQUFXLENBQUMsT0FBTztRQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQy9DLElBQUksS0FBSyxDQUFDLEVBQUUsS0FBSyxPQUFPLEVBQUU7Z0JBQ3hCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO2dCQUNqQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUMxRCxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO2FBQzlDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSAnQG43LWZyb250ZW5kL2NvcmUnO1xuaW1wb3J0IHsgTXJGb3JtV3JhcHBlckFjY29yZGlvbkRhdGEgfSBmcm9tICcuLi9jb21wb25lbnRzL2Zvcm0td3JhcHBlci1hY2NvcmRpb24vZm9ybS13cmFwcGVyLWFjY29yZGlvbic7XG5cbmNvbnN0IElDT05fT1BFTiA9ICduNy1pY29uLWFuZ2xlLXVwJztcbmNvbnN0IElDT05fQ0xPU0UgPSAnbjctaWNvbi1hbmdsZS1kb3duJztcblxuZXhwb3J0IGNsYXNzIE1yRm9ybVdyYXBwZXJBY2NvcmRpb25EUyBleHRlbmRzIERhdGFTb3VyY2Uge1xuICBwcm90ZWN0ZWQgdHJhbnNmb3JtKGRhdGE6IE1yRm9ybVdyYXBwZXJBY2NvcmRpb25EYXRhKTogTXJGb3JtV3JhcHBlckFjY29yZGlvbkRhdGEge1xuICAgIGNvbnN0IHsgZm9ybSB9ID0gZGF0YTtcbiAgICBjb25zdCB7IGdyb3VwcyB9ID0gZm9ybS5jb25maWc7XG5cbiAgICAvLyBzZXQgYWNjb3JkaW9uIGhlYWRlcnNcbiAgICBkYXRhLmZvcm0uY29uZmlnLmdyb3VwcyA9IGdyb3Vwcy5tYXAoKGdyb3VwKSA9PiAoe1xuICAgICAgLi4uZ3JvdXAsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC4uLmdyb3VwLm9wdGlvbnMsXG4gICAgICAgIHRleHQ6IGdyb3VwLm9wdGlvbnMubGFiZWwsXG4gICAgICAgIHBheWxvYWQ6IGdyb3VwLmlkLFxuICAgICAgICBpY29uUmlnaHQ6IGdyb3VwLm9wdGlvbnMuaXNPcGVuID8gSUNPTl9PUEVOIDogSUNPTl9DTE9TRSxcbiAgICAgICAgaXNPcGVuOiBncm91cC5vcHRpb25zLmlzT3BlblxuICAgICAgfVxuICAgIH0pKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIG9uUmVzZXQoKSB7XG4gICAgY29uc3QgeyBmb3JtIH0gPSB0aGlzLm91dHB1dDtcbiAgICBjb25zdCBpbnB1dHMgPSBmb3JtLmdldElucHV0cygpO1xuICAgIE9iamVjdC5rZXlzKGlucHV0cykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlucHV0c1tpZF0uY2xlYXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUdyb3VwKGdyb3VwSWQpIHtcbiAgICB0aGlzLm91dHB1dC5mb3JtLmNvbmZpZy5ncm91cHMuZm9yRWFjaCgoZ3JvdXApID0+IHtcbiAgICAgIGlmIChncm91cC5pZCA9PT0gZ3JvdXBJZCkge1xuICAgICAgICBjb25zdCB7IGlzT3BlbiB9ID0gZ3JvdXAub3B0aW9ucztcbiAgICAgICAgZ3JvdXAub3B0aW9ucy5pY29uUmlnaHQgPSBpc09wZW4gPyBJQ09OX0NMT1NFIDogSUNPTl9PUEVOO1xuICAgICAgICBncm91cC5vcHRpb25zLmlzT3BlbiA9ICFncm91cC5vcHRpb25zLmlzT3BlbjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl19