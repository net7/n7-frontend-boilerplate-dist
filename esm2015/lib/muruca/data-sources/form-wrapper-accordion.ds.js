import { DataSource } from '@n7-frontend/core';
const ICON_OPEN = 'n7-icon-angle-up';
const ICON_CLOSE = 'n7-icon-angle-down';
export class MrFormWrapperAccordionDS extends DataSource {
    transform(data) {
        const { form } = data;
        const { groups } = form.config;
        // set accordion headers
        data.form.config.groups = groups.map((group) => (Object.assign(Object.assign({}, group), { options: Object.assign(Object.assign({}, group.options), { text: group.options.label, payload: group.id, iconRight: group.options.isOpen ? ICON_OPEN : ICON_CLOSE, isOpen: group.options.isOpen }) })));
        return data;
    }
    toggleGroup(groupId) {
        this.output.form.config.groups.forEach((group) => {
            if (group.id === groupId) {
                const { isOpen } = group.options;
                group.options.iconRight = isOpen ? ICON_CLOSE : ICON_OPEN;
                group.options.isOpen = !group.options.isOpen;
            }
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS13cmFwcGVyLWFjY29yZGlvbi5kcy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuNy1mcm9udGVuZC9ib2lsZXJwbGF0ZS8iLCJzb3VyY2VzIjpbImxpYi9tdXJ1Y2EvZGF0YS1zb3VyY2VzL2Zvcm0td3JhcHBlci1hY2NvcmRpb24uZHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRy9DLE1BQU0sU0FBUyxHQUFHLGtCQUFrQixDQUFDO0FBQ3JDLE1BQU0sVUFBVSxHQUFHLG9CQUFvQixDQUFDO0FBRXhDLE1BQU0sT0FBTyx3QkFBeUIsU0FBUSxVQUFVO0lBQzVDLFNBQVMsQ0FBQyxJQUFnQztRQUNsRCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRS9CLHdCQUF3QjtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsaUNBQzNDLEtBQUssS0FDUixPQUFPLGtDQUNGLEtBQUssQ0FBQyxPQUFPLEtBQ2hCLElBQUksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFDekIsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQ2pCLFNBQVMsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQ3hELE1BQU0sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sT0FFOUIsQ0FBQyxDQUFDO1FBQ0osT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsV0FBVyxDQUFDLE9BQU87UUFDakIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUMvQyxJQUFJLEtBQUssQ0FBQyxFQUFFLEtBQUssT0FBTyxFQUFFO2dCQUN4QixNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztnQkFDakMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztnQkFDMUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQzthQUM5QztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJ0BuNy1mcm9udGVuZC9jb3JlJztcbmltcG9ydCB7IE1yRm9ybVdyYXBwZXJBY2NvcmRpb25EYXRhIH0gZnJvbSAnLi4vY29tcG9uZW50cy9mb3JtLXdyYXBwZXItYWNjb3JkaW9uL2Zvcm0td3JhcHBlci1hY2NvcmRpb24nO1xuXG5jb25zdCBJQ09OX09QRU4gPSAnbjctaWNvbi1hbmdsZS11cCc7XG5jb25zdCBJQ09OX0NMT1NFID0gJ243LWljb24tYW5nbGUtZG93bic7XG5cbmV4cG9ydCBjbGFzcyBNckZvcm1XcmFwcGVyQWNjb3JkaW9uRFMgZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgcHJvdGVjdGVkIHRyYW5zZm9ybShkYXRhOiBNckZvcm1XcmFwcGVyQWNjb3JkaW9uRGF0YSk6IE1yRm9ybVdyYXBwZXJBY2NvcmRpb25EYXRhIHtcbiAgICBjb25zdCB7IGZvcm0gfSA9IGRhdGE7XG4gICAgY29uc3QgeyBncm91cHMgfSA9IGZvcm0uY29uZmlnO1xuXG4gICAgLy8gc2V0IGFjY29yZGlvbiBoZWFkZXJzXG4gICAgZGF0YS5mb3JtLmNvbmZpZy5ncm91cHMgPSBncm91cHMubWFwKChncm91cCkgPT4gKHtcbiAgICAgIC4uLmdyb3VwLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICAuLi5ncm91cC5vcHRpb25zLFxuICAgICAgICB0ZXh0OiBncm91cC5vcHRpb25zLmxhYmVsLFxuICAgICAgICBwYXlsb2FkOiBncm91cC5pZCxcbiAgICAgICAgaWNvblJpZ2h0OiBncm91cC5vcHRpb25zLmlzT3BlbiA/IElDT05fT1BFTiA6IElDT05fQ0xPU0UsXG4gICAgICAgIGlzT3BlbjogZ3JvdXAub3B0aW9ucy5pc09wZW5cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB0b2dnbGVHcm91cChncm91cElkKSB7XG4gICAgdGhpcy5vdXRwdXQuZm9ybS5jb25maWcuZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICBpZiAoZ3JvdXAuaWQgPT09IGdyb3VwSWQpIHtcbiAgICAgICAgY29uc3QgeyBpc09wZW4gfSA9IGdyb3VwLm9wdGlvbnM7XG4gICAgICAgIGdyb3VwLm9wdGlvbnMuaWNvblJpZ2h0ID0gaXNPcGVuID8gSUNPTl9DTE9TRSA6IElDT05fT1BFTjtcbiAgICAgICAgZ3JvdXAub3B0aW9ucy5pc09wZW4gPSAhZ3JvdXAub3B0aW9ucy5pc09wZW47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==