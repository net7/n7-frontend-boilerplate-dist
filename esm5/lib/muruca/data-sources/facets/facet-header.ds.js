import { __assign, __extends } from "tslib";
import { DataSource, _t } from '@n7-frontend/core';
var ICON_OPEN = 'n7-icon-angle-up';
var ICON_CLOSE = 'n7-icon-angle-down';
var FacetHeaderDS = /** @class */ (function (_super) {
    __extends(FacetHeaderDS, _super);
    function FacetHeaderDS() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.getValue = function () { return _this.value; };
        return _this;
    }
    FacetHeaderDS.prototype.transform = function (data) {
        return __assign(__assign({}, data), { text: _t(data.text), iconRight: data.iconRight || ICON_OPEN });
    };
    FacetHeaderDS.prototype.setValue = function (value, update) {
        if (update === void 0) { update = false; }
        this.value = value;
        if (update) {
            this.update(__assign(__assign({}, this.input), { additionalText: value }));
        }
    };
    FacetHeaderDS.prototype.toggle = function () {
        var iconRight = this.output.iconRight;
        iconRight = iconRight === ICON_OPEN ? ICON_CLOSE : ICON_OPEN;
        this.update(__assign(__assign({}, this.input), { iconRight: iconRight }));
    };
    FacetHeaderDS.prototype.isOpen = function () {
        return this.output.iconRight === ICON_OPEN;
    };
    FacetHeaderDS.prototype.clear = function () {
        this.value = null;
    };
    return FacetHeaderDS;
}(DataSource));
export { FacetHeaderDS };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjZXQtaGVhZGVyLmRzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG43LWZyb250ZW5kL2JvaWxlcnBsYXRlLyIsInNvdXJjZXMiOlsibGliL211cnVjYS9kYXRhLXNvdXJjZXMvZmFjZXRzL2ZhY2V0LWhlYWRlci5kcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUtuRCxJQUFNLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztBQUNyQyxJQUFNLFVBQVUsR0FBRyxvQkFBb0IsQ0FBQztBQUV4QztJQUFtQyxpQ0FBVTtJQUE3QztRQUFBLHFFQTBDQztRQWxCQyxjQUFRLEdBQUcsY0FBbUIsT0FBQSxLQUFJLENBQUMsS0FBSyxFQUFWLENBQVUsQ0FBQzs7SUFrQjNDLENBQUM7SUFyQ1csaUNBQVMsR0FBbkIsVUFBb0IsSUFBcUI7UUFDdkMsNkJBQ0ssSUFBSSxLQUNQLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUNuQixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsSUFBSSxTQUFTLElBQ3RDO0lBQ0osQ0FBQztJQUVELGdDQUFRLEdBQVIsVUFBUyxLQUFrQixFQUFFLE1BQWM7UUFBZCx1QkFBQSxFQUFBLGNBQWM7UUFDekMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsSUFBSSxNQUFNLEVBQUU7WUFDVixJQUFJLENBQUMsTUFBTSx1QkFDTixJQUFJLENBQUMsS0FBSyxLQUNiLGNBQWMsRUFBRSxLQUFLLElBQ3JCLENBQUM7U0FDSjtJQUNILENBQUM7SUFJRCw4QkFBTSxHQUFOO1FBQ1EsSUFBQSxpQ0FBUyxDQUFpQjtRQUNoQyxTQUFTLEdBQUcsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDN0QsSUFBSSxDQUFDLE1BQU0sdUJBQ04sSUFBSSxDQUFDLEtBQUssS0FDYixTQUFTLFdBQUEsSUFDVCxDQUFDO0lBQ0wsQ0FBQztJQUVELDhCQUFNLEdBQU47UUFDRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsNkJBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ3BCLENBQUM7SUFDSCxvQkFBQztBQUFELENBQUMsQUExQ0QsQ0FBbUMsVUFBVSxHQTBDNUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhU291cmNlLCBfdCB9IGZyb20gJ0BuNy1mcm9udGVuZC9jb3JlJztcbmltcG9ydCB7IEZhY2V0SGVhZGVyRGF0YSB9IGZyb20gJ0BuNy1mcm9udGVuZC9jb21wb25lbnRzJztcbmltcG9ydCB7IEZhY2V0RGF0YVNvdXJjZSB9IGZyb20gJy4vZmFjZXQtZGF0YXNvdXJjZSc7XG5cbnR5cGUgRkFDRVRfVkFMVUUgPSBzdHJpbmcgfCBudWxsO1xuY29uc3QgSUNPTl9PUEVOID0gJ243LWljb24tYW5nbGUtdXAnO1xuY29uc3QgSUNPTl9DTE9TRSA9ICduNy1pY29uLWFuZ2xlLWRvd24nO1xuXG5leHBvcnQgY2xhc3MgRmFjZXRIZWFkZXJEUyBleHRlbmRzIERhdGFTb3VyY2UgaW1wbGVtZW50cyBGYWNldERhdGFTb3VyY2Uge1xuICBpZDogc3RyaW5nO1xuXG4gIHZhbHVlOiBGQUNFVF9WQUxVRTtcblxuICBwcm90ZWN0ZWQgdHJhbnNmb3JtKGRhdGE6IEZhY2V0SGVhZGVyRGF0YSk6IEZhY2V0SGVhZGVyRGF0YSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICB0ZXh0OiBfdChkYXRhLnRleHQpLFxuICAgICAgaWNvblJpZ2h0OiBkYXRhLmljb25SaWdodCB8fCBJQ09OX09QRU5cbiAgICB9O1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IEZBQ0VUX1ZBTFVFLCB1cGRhdGUgPSBmYWxzZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmICh1cGRhdGUpIHtcbiAgICAgIHRoaXMudXBkYXRlKHtcbiAgICAgICAgLi4udGhpcy5pbnB1dCxcbiAgICAgICAgYWRkaXRpb25hbFRleHQ6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRWYWx1ZSA9ICgpOiBGQUNFVF9WQUxVRSA9PiB0aGlzLnZhbHVlO1xuXG4gIHRvZ2dsZSgpIHtcbiAgICBsZXQgeyBpY29uUmlnaHQgfSA9IHRoaXMub3V0cHV0O1xuICAgIGljb25SaWdodCA9IGljb25SaWdodCA9PT0gSUNPTl9PUEVOID8gSUNPTl9DTE9TRSA6IElDT05fT1BFTjtcbiAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICAuLi50aGlzLmlucHV0LFxuICAgICAgaWNvblJpZ2h0XG4gICAgfSk7XG4gIH1cblxuICBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0Lmljb25SaWdodCA9PT0gSUNPTl9PUEVOO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gIH1cbn1cbiJdfQ==