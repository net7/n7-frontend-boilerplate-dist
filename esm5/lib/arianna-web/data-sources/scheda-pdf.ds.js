import { __assign, __extends } from "tslib";
import { DataSource } from '@n7-frontend/core';
import { merge } from 'lodash';
var DEFAULT_OPTIONS = {
    showToolbar: true,
    showSidebarButton: true,
    showFindButton: true,
    showPagingButtons: true,
    showZoomButtons: true,
    showPresentationModeButton: true,
    showOpenFileButton: false,
    showPrintButton: false,
    showDownloadButton: false,
    showBookmarkButton: false,
    showSecondaryToolbarButton: true,
    showRotateButton: false,
    showHandToolButton: true,
    showScrollingButton: false,
    showSpreadButton: false,
    showPropertiesButton: false
};
var AwSchedaPdfDS = /** @class */ (function (_super) {
    __extends(AwSchedaPdfDS, _super);
    function AwSchedaPdfDS() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AwSchedaPdfDS.prototype.transform = function (data) {
        var items = data.items;
        var libOptions = merge(DEFAULT_OPTIONS, this.options.libOptions || {});
        if (!(Array.isArray(items) && items.length)) {
            return null;
        }
        this.items = items.map(function (item, index) { return (__assign(__assign({}, item), { selected: index === 0 })); });
        console.log('libOptions----------------------------->', libOptions);
        // defaults
        return {
            libOptions: libOptions,
            items: this.items,
            next: 1,
            prev: null,
            currentUrl: items[0].url,
        };
    };
    AwSchedaPdfDS.prototype.onChange = function (index) {
        this.output.next = index < (this.items.length - 1) ? index + 1 : null;
        this.output.prev = index > 0 ? index - 1 : null;
        this.output.currentUrl = this.items[index].url;
        this.items.forEach(function (item, itemIndex) {
            item.selected = itemIndex === index;
        });
    };
    AwSchedaPdfDS.prototype.onLoaded = function () {
        this.output.classes = 'is-loaded';
    };
    return AwSchedaPdfDS;
}(DataSource));
export { AwSchedaPdfDS };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZWRhLXBkZi5kcy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuNy1mcm9udGVuZC9ib2lsZXJwbGF0ZS8iLCJzb3VyY2VzIjpbImxpYi9hcmlhbm5hLXdlYi9kYXRhLXNvdXJjZXMvc2NoZWRhLXBkZi5kcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFHL0IsSUFBTSxlQUFlLEdBQUc7SUFDdEIsV0FBVyxFQUFFLElBQUk7SUFDakIsaUJBQWlCLEVBQUUsSUFBSTtJQUN2QixjQUFjLEVBQUUsSUFBSTtJQUNwQixpQkFBaUIsRUFBRSxJQUFJO0lBQ3ZCLGVBQWUsRUFBRSxJQUFJO0lBQ3JCLDBCQUEwQixFQUFFLElBQUk7SUFDaEMsa0JBQWtCLEVBQUUsS0FBSztJQUN6QixlQUFlLEVBQUUsS0FBSztJQUN0QixrQkFBa0IsRUFBRSxLQUFLO0lBQ3pCLGtCQUFrQixFQUFFLEtBQUs7SUFDekIsMEJBQTBCLEVBQUUsSUFBSTtJQUNoQyxnQkFBZ0IsRUFBRSxLQUFLO0lBQ3ZCLGtCQUFrQixFQUFFLElBQUk7SUFDeEIsbUJBQW1CLEVBQUUsS0FBSztJQUMxQixnQkFBZ0IsRUFBRSxLQUFLO0lBQ3ZCLG9CQUFvQixFQUFFLEtBQUs7Q0FDNUIsQ0FBQztBQUVGO0lBQW1DLGlDQUFVO0lBQTdDOztJQThDQSxDQUFDO0lBdkNXLGlDQUFTLEdBQW5CLFVBQW9CLElBQUk7UUFDZCxJQUFBLGtCQUFLLENBQVU7UUFDdkIsSUFBTSxVQUFVLEdBQUcsS0FBSyxDQUN0QixlQUFlLEVBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksRUFBRSxDQUM5QixDQUFDO1FBQ0YsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDM0MsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQUksRUFBRSxLQUFLLElBQUssT0FBQSx1QkFDbkMsSUFBSSxLQUNQLFFBQVEsRUFBRSxLQUFLLEtBQUssQ0FBQyxJQUNyQixFQUhzQyxDQUd0QyxDQUFDLENBQUM7UUFFSixPQUFPLENBQUMsR0FBRyxDQUFDLDBDQUEwQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBRXBFLFdBQVc7UUFDWCxPQUFPO1lBQ0wsVUFBVSxZQUFBO1lBQ1YsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLElBQUksRUFBRSxDQUFDO1lBQ1AsSUFBSSxFQUFFLElBQUk7WUFDVixVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7U0FDekIsQ0FBQztJQUNKLENBQUM7SUFFRCxnQ0FBUSxHQUFSLFVBQVMsS0FBSztRQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQy9DLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQUMsSUFBSSxFQUFFLFNBQVM7WUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFTLEtBQUssS0FBSyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGdDQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUM7SUFDcEMsQ0FBQztJQUNILG9CQUFDO0FBQUQsQ0FBQyxBQTlDRCxDQUFtQyxVQUFVLEdBOEM1QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICdAbjctZnJvbnRlbmQvY29yZSc7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBQZGZWaWV3ZXJEYXRhIH0gZnJvbSAnLi4vY29tcG9uZW50cyc7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgc2hvd1Rvb2xiYXI6IHRydWUsXG4gIHNob3dTaWRlYmFyQnV0dG9uOiB0cnVlLFxuICBzaG93RmluZEJ1dHRvbjogdHJ1ZSxcbiAgc2hvd1BhZ2luZ0J1dHRvbnM6IHRydWUsXG4gIHNob3dab29tQnV0dG9uczogdHJ1ZSxcbiAgc2hvd1ByZXNlbnRhdGlvbk1vZGVCdXR0b246IHRydWUsXG4gIHNob3dPcGVuRmlsZUJ1dHRvbjogZmFsc2UsXG4gIHNob3dQcmludEJ1dHRvbjogZmFsc2UsXG4gIHNob3dEb3dubG9hZEJ1dHRvbjogZmFsc2UsXG4gIHNob3dCb29rbWFya0J1dHRvbjogZmFsc2UsXG4gIHNob3dTZWNvbmRhcnlUb29sYmFyQnV0dG9uOiB0cnVlLFxuICBzaG93Um90YXRlQnV0dG9uOiBmYWxzZSxcbiAgc2hvd0hhbmRUb29sQnV0dG9uOiB0cnVlLFxuICBzaG93U2Nyb2xsaW5nQnV0dG9uOiBmYWxzZSxcbiAgc2hvd1NwcmVhZEJ1dHRvbjogZmFsc2UsXG4gIHNob3dQcm9wZXJ0aWVzQnV0dG9uOiBmYWxzZVxufTtcblxuZXhwb3J0IGNsYXNzIEF3U2NoZWRhUGRmRFMgZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgcHJpdmF0ZSBpdGVtczoge1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW47XG4gIH1bXTtcblxuICBwcm90ZWN0ZWQgdHJhbnNmb3JtKGRhdGEpOiBQZGZWaWV3ZXJEYXRhIHtcbiAgICBjb25zdCB7IGl0ZW1zIH0gPSBkYXRhO1xuICAgIGNvbnN0IGxpYk9wdGlvbnMgPSBtZXJnZShcbiAgICAgIERFRkFVTFRfT1BUSU9OUyxcbiAgICAgIHRoaXMub3B0aW9ucy5saWJPcHRpb25zIHx8IHt9XG4gICAgKTtcbiAgICBpZiAoIShBcnJheS5pc0FycmF5KGl0ZW1zKSAmJiBpdGVtcy5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLml0ZW1zID0gaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gKHtcbiAgICAgIC4uLml0ZW0sXG4gICAgICBzZWxlY3RlZDogaW5kZXggPT09IDBcbiAgICB9KSk7XG5cbiAgICBjb25zb2xlLmxvZygnbGliT3B0aW9ucy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPicsIGxpYk9wdGlvbnMpO1xuXG4gICAgLy8gZGVmYXVsdHNcbiAgICByZXR1cm4ge1xuICAgICAgbGliT3B0aW9ucyxcbiAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zLFxuICAgICAgbmV4dDogMSxcbiAgICAgIHByZXY6IG51bGwsXG4gICAgICBjdXJyZW50VXJsOiBpdGVtc1swXS51cmwsXG4gICAgfTtcbiAgfVxuXG4gIG9uQ2hhbmdlKGluZGV4KSB7XG4gICAgdGhpcy5vdXRwdXQubmV4dCA9IGluZGV4IDwgKHRoaXMuaXRlbXMubGVuZ3RoIC0gMSkgPyBpbmRleCArIDEgOiBudWxsO1xuICAgIHRoaXMub3V0cHV0LnByZXYgPSBpbmRleCA+IDAgPyBpbmRleCAtIDEgOiBudWxsO1xuICAgIHRoaXMub3V0cHV0LmN1cnJlbnRVcmwgPSB0aGlzLml0ZW1zW2luZGV4XS51cmw7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBpdGVtSW5kZXggPT09IGluZGV4O1xuICAgIH0pO1xuICB9XG5cbiAgb25Mb2FkZWQoKSB7XG4gICAgdGhpcy5vdXRwdXQuY2xhc3NlcyA9ICdpcy1sb2FkZWQnO1xuICB9XG59XG4iXX0=